<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>WebExtension DB API Documentation - v0.1.0</title><meta name="description" content="Documentation for WebExtension DB API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">WebExtension DB API Documentation - v0.1.0</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>WebExtension DB API Documentation - v0.1.0</h1></div><div class="tsd-panel tsd-typography"><h1 id="webextension-db" class="tsd-anchor-link">WebExtension DB<a href="#webextension-db" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A unified database API for web extensions that works seamlessly across Chrome, Firefox, and Safari. This package provides a consistent interface for persistent data storage in browser extensions, automatically handling browser differences and selecting the best available storage backend.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üåê <strong>Cross-browser compatibility</strong> - Works on Chrome, Firefox, and Safari</li>
<li>üîÑ <strong>Automatic provider selection</strong> - Chooses the best storage backend for each browser</li>
<li>üíæ <strong>Multiple storage options</strong> - IndexedDB, Chrome Storage, Browser Storage APIs</li>
<li>üìä <strong>JSON and SQLite support</strong> - Flexible data storage options (SQLite coming soon)</li>
<li>üõ°Ô∏è <strong>Type-safe</strong> - Full TypeScript support with comprehensive type definitions</li>
<li>‚ö° <strong>High performance</strong> - Optimized for extension environments</li>
<li>üîß <strong>Easy to use</strong> - Simple, consistent API across all browsers</li>
</ul>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">webextension-db</span>
</code><button type="button">Copy</button></pre>

<h2 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">createDatabase</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;webextension-db&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Create a database with automatic provider selection</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">db</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-extension-db&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-2">&#39;auto&#39;</span><span class="hl-1">,  </span><span class="hl-5">// Automatically choose the best provider</span><br/><span class="hl-1">  </span><span class="hl-4">version:</span><span class="hl-1"> </span><span class="hl-8">1</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Store data</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;John Doe&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;john@example.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">preferences:</span><span class="hl-1"> { </span><span class="hl-4">theme:</span><span class="hl-1"> </span><span class="hl-2">&#39;dark&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Retrieve data</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">user</span><span class="hl-1">); </span><span class="hl-5">// { name: &#39;John Doe&#39;, email: &#39;john@example.com&#39;, ... }</span><br/><br/><span class="hl-5">// Check if data exists</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">exists</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">exists</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Delete data</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">delete</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Clear entire table</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="browser-support" class="tsd-anchor-link">Browser Support<a href="#browser-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Browser</th>
<th>Storage Backend</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chrome</td>
<td>Chrome Storage API, IndexedDB</td>
<td>‚úÖ Supported</td>
</tr>
<tr>
<td>Firefox</td>
<td>Browser Storage API, IndexedDB</td>
<td>‚úÖ Supported</td>
</tr>
<tr>
<td>Safari</td>
<td>Browser Storage API, IndexedDB</td>
<td>‚úÖ Supported</td>
</tr>
<tr>
<td>Edge</td>
<td>Chrome Storage API, IndexedDB</td>
<td>‚úÖ Supported</td>
</tr>
</tbody>
</table>
<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="createdatabaseconfig" class="tsd-anchor-link">createDatabase(config)<a href="#createdatabaseconfig" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Creates a new database instance.</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">db</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-db&#39;</span><span class="hl-1">,           </span><span class="hl-5">// Database name</span><br/><span class="hl-1">  </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-2">&#39;auto&#39;</span><span class="hl-1">,        </span><span class="hl-5">// &#39;auto&#39;, &#39;json&#39;, &#39;sqlite&#39;</span><br/><span class="hl-1">  </span><span class="hl-4">version:</span><span class="hl-1"> </span><span class="hl-8">1</span><span class="hl-1">,              </span><span class="hl-5">// Schema version</span><br/><span class="hl-1">  </span><span class="hl-4">backend:</span><span class="hl-1"> </span><span class="hl-2">&#39;indexeddb&#39;</span><span class="hl-1">,    </span><span class="hl-5">// Optional: force specific backend</span><br/><span class="hl-1">  </span><span class="hl-4">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">area:</span><span class="hl-1"> </span><span class="hl-2">&#39;local&#39;</span><span class="hl-1">,         </span><span class="hl-5">// &#39;local&#39;, &#39;sync&#39;, &#39;managed&#39;</span><br/><span class="hl-1">    </span><span class="hl-4">autoSave:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">,        </span><span class="hl-5">// Auto-save for JSON provider</span><br/><span class="hl-1">    </span><span class="hl-4">saveInterval:</span><span class="hl-1"> </span><span class="hl-8">5000</span><span class="hl-1">     </span><span class="hl-5">// Save interval in ms</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="database-methods" class="tsd-anchor-link">Database Methods<a href="#database-methods" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="basic-operations" class="tsd-anchor-link">Basic Operations<a href="#basic-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-5">// Store data</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Retrieve data</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">value</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Check existence</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">exists</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">exists</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Delete data</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">delete</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Clear table</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="batch-operations" class="tsd-anchor-link">Batch Operations<a href="#batch-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-5">// Batch multiple operations</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">batch</span><span class="hl-1">([</span><br/><span class="hl-1">  { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;set&#39;</span><span class="hl-1">, </span><span class="hl-4">table:</span><span class="hl-1"> </span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">userData1</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;set&#39;</span><span class="hl-1">, </span><span class="hl-4">table:</span><span class="hl-1"> </span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;user2&#39;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">userData2</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;delete&#39;</span><span class="hl-1">, </span><span class="hl-4">table:</span><span class="hl-1"> </span><span class="hl-2">&#39;temp&#39;</span><span class="hl-1">, </span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;old-data&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<h4 id="table-management" class="tsd-anchor-link">Table Management<a href="#table-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-5">// List all tables</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">tables</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">listTables</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Create table (for SQLite provider)</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">createTable</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-4">schema</span><span class="hl-1">);</span><br/><br/><span class="hl-5">// Drop table</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">dropTable</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="transactions" class="tsd-anchor-link">Transactions<a href="#transactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-5">// Execute operations in a transaction</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">transaction</span><span class="hl-1">(</span><span class="hl-2">&#39;readwrite&#39;</span><span class="hl-1">, </span><span class="hl-6">async</span><span class="hl-1"> (</span><span class="hl-4">tx</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">tx</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">user</span><span class="hl-1">.</span><span class="hl-4">lastActive</span><span class="hl-1"> = </span><span class="hl-4">Date</span><span class="hl-1">.</span><span class="hl-0">now</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">tx</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">, </span><span class="hl-4">user</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">tx</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;activity&#39;</span><span class="hl-1">, </span><span class="hl-4">Date</span><span class="hl-1">.</span><span class="hl-0">now</span><span class="hl-1">(), { </span><span class="hl-4">userId:</span><span class="hl-1"> </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">, </span><span class="hl-4">action:</span><span class="hl-1"> </span><span class="hl-2">&#39;login&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="extension-manifest-setup" class="tsd-anchor-link">Extension Manifest Setup<a href="#extension-manifest-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="chrome-manifest-v3" class="tsd-anchor-link">Chrome (Manifest V3)<a href="#chrome-manifest-v3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;manifest_version&quot;</span><span class="hl-1">: </span><span class="hl-8">3</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;permissions&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;storage&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;unlimitedStorage&quot;</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;background&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;service_worker&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;background.js&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;type&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;module&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="firefox-manifest-v2" class="tsd-anchor-link">Firefox (Manifest V2)<a href="#firefox-manifest-v2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;manifest_version&quot;</span><span class="hl-1">: </span><span class="hl-8">2</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;permissions&quot;</span><span class="hl-1">: [</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;storage&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;unlimitedStorage&quot;</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;background&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;scripts&quot;</span><span class="hl-1">: [</span><span class="hl-2">&quot;background.js&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;persistent&quot;</span><span class="hl-1">: </span><span class="hl-6">false</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage-in-extensions" class="tsd-anchor-link">Usage in Extensions<a href="#usage-in-extensions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="background-script" class="tsd-anchor-link">Background Script<a href="#background-script" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">createDatabase</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;webextension-db&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Initialize database</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">initDB</span><span class="hl-1">() {</span><br/><span class="hl-1">  </span><span class="hl-4">db</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;extension-data&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-2">&#39;auto&#39;</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Handle messages from popup/content scripts</span><br/><span class="hl-4">chrome</span><span class="hl-1">.</span><span class="hl-4">runtime</span><span class="hl-1">.</span><span class="hl-4">onMessage</span><span class="hl-1">.</span><span class="hl-0">addListener</span><span class="hl-1">((</span><span class="hl-4">message</span><span class="hl-1">, </span><span class="hl-4">sender</span><span class="hl-1">, </span><span class="hl-4">sendResponse</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">handleMessage</span><span class="hl-1">(</span><span class="hl-4">message</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">(</span><span class="hl-4">sendResponse</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1">; </span><span class="hl-5">// Async response</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">handleMessage</span><span class="hl-1">(</span><span class="hl-4">message</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> { </span><span class="hl-7">action</span><span class="hl-1">, </span><span class="hl-7">table</span><span class="hl-1">, </span><span class="hl-7">key</span><span class="hl-1">, </span><span class="hl-7">value</span><span class="hl-1"> } = </span><span class="hl-4">message</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">switch</span><span class="hl-1"> (</span><span class="hl-4">action</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> </span><span class="hl-2">&#39;get&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> </span><span class="hl-2">&#39;set&#39;</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> { </span><span class="hl-4">success:</span><span class="hl-1"> </span><span class="hl-6">true</span><span class="hl-1"> };</span><br/><span class="hl-1">    </span><span class="hl-5">// ... other operations</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="popup-script" class="tsd-anchor-link">Popup Script<a href="#popup-script" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-5">// Send message to background script</span><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">((</span><span class="hl-4">resolve</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">chrome</span><span class="hl-1">.</span><span class="hl-4">runtime</span><span class="hl-1">.</span><span class="hl-0">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">      { </span><span class="hl-4">action:</span><span class="hl-1"> </span><span class="hl-2">&#39;get&#39;</span><span class="hl-1">, </span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1"> },</span><br/><span class="hl-1">      </span><span class="hl-4">resolve</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">async</span><span class="hl-1"> </span><span class="hl-6">function</span><span class="hl-1"> </span><span class="hl-0">setData</span><span class="hl-1">(</span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">((</span><span class="hl-4">resolve</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">chrome</span><span class="hl-1">.</span><span class="hl-4">runtime</span><span class="hl-1">.</span><span class="hl-0">sendMessage</span><span class="hl-1">(</span><br/><span class="hl-1">      { </span><span class="hl-4">action:</span><span class="hl-1"> </span><span class="hl-2">&#39;set&#39;</span><span class="hl-1">, </span><span class="hl-4">table</span><span class="hl-1">, </span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1"> },</span><br/><span class="hl-1">      </span><span class="hl-4">resolve</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Usage</span><br/><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">user</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">getData</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;current&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">setData</span><span class="hl-1">(</span><span class="hl-2">&#39;settings&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;theme&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;dark&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="storage-backends" class="tsd-anchor-link">Storage Backends<a href="#storage-backends" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="automatic-selection" class="tsd-anchor-link">Automatic Selection<a href="#automatic-selection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default, the package automatically selects the best storage backend:</p>
<ol>
<li><strong>Chrome</strong>: Chrome Storage API (with unlimitedStorage) ‚Üí IndexedDB</li>
<li><strong>Firefox</strong>: Browser Storage API ‚Üí IndexedDB</li>
<li><strong>Safari</strong>: Browser Storage API ‚Üí IndexedDB</li>
</ol>
<h3 id="manual-selection" class="tsd-anchor-link">Manual Selection<a href="#manual-selection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can force a specific backend:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">db</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createDatabase</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;my-db&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-2">&#39;json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">backend:</span><span class="hl-1"> </span><span class="hl-2">&#39;chrome-storage&#39;</span><span class="hl-1"> </span><span class="hl-5">// or &#39;browser-storage&#39;, &#39;indexeddb&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h2 id="error-handling" class="tsd-anchor-link">Error Handling<a href="#error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-3">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">db</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;user1&#39;</span><span class="hl-1">, </span><span class="hl-4">userData</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-3">catch</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">code</span><span class="hl-1"> === </span><span class="hl-2">&#39;STORAGE_QUOTA_ERROR&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Handle storage quota exceeded</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Storage quota exceeded&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-3">else</span><span class="hl-1"> </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">code</span><span class="hl-1"> === </span><span class="hl-2">&#39;CONNECTION_ERROR&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Handle connection issues</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Database connection failed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="development" class="tsd-anchor-link">Development<a href="#development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-5"># Install dependencies</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-5"># Build the package</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-5"># Build examples</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:examples</span><br/><br/><span class="hl-5"># Build everything (package + examples)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:all</span><br/><br/><span class="hl-5"># Run tests</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">test</span><br/><br/><span class="hl-5"># Build and watch for changes</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">dev</span>
</code><button type="button">Copy</button></pre>

<h2 id="examples" class="tsd-anchor-link">Examples<a href="#examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Check out the <a href="./examples">examples</a> directory for complete working examples:</p>
<ul>
<li><a href="media/basic-usage.js">Basic Usage</a></li>
<li><a href="./examples/chrome-extension/">Chrome Extension</a></li>
<li><a href="./examples/firefox-extension/">Firefox Extension</a></li>
</ul>
<h2 id="contributing" class="tsd-anchor-link">Contributing<a href="#contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Contributions are welcome! Please read our <a href="CONTRIBUTING.md">contributing guidelines</a> and <a href="CODE_OF_CONDUCT.md">code of conduct</a>.</p>
<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT ¬© [Your Name]</p>
<h2 id="roadmap" class="tsd-anchor-link">Roadmap<a href="#roadmap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>[ ] SQLite provider with WASM support</li>
<li>[ ] Data migration utilities</li>
<li>[ ] Sync capabilities between devices</li>
<li>[ ] Performance monitoring</li>
<li>[ ] Advanced querying for JSON provider</li>
<li>[ ] Encryption support</li>
<li>[ ] Backup/restore functionality</li>
</ul>
<h2 id="support" class="tsd-anchor-link">Support<a href="#support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>üìñ <a href="https://github.com/your-username/webextension-db/wiki">Documentation</a></li>
<li>üêõ <a href="https://github.com/your-username/webextension-db/issues">Issue Tracker</a></li>
<li>üí¨ <a href="https://github.com/your-username/webextension-db/discussions">Discussions</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#webextension-db"><span>Web<wbr/>Extension <wbr/>DB</span></a><ul><li><a href="#features"><span>Features</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#browser-support"><span>Browser <wbr/>Support</span></a></li><li><a href="#api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#createdatabaseconfig"><span>create<wbr/>Database(config)</span></a></li><li><a href="#database-methods"><span>Database <wbr/>Methods</span></a></li><li><ul><li><a href="#basic-operations"><span>Basic <wbr/>Operations</span></a></li><li><a href="#batch-operations"><span>Batch <wbr/>Operations</span></a></li><li><a href="#table-management"><span>Table <wbr/>Management</span></a></li><li><a href="#transactions"><span>Transactions</span></a></li></ul></li></ul></li><li><a href="#extension-manifest-setup"><span>Extension <wbr/>Manifest <wbr/>Setup</span></a></li><li><ul><li><a href="#chrome-manifest-v3"><span>Chrome (<wbr/>Manifest <wbr/>V3)</span></a></li><li><a href="#firefox-manifest-v2"><span>Firefox (<wbr/>Manifest <wbr/>V2)</span></a></li></ul></li><li><a href="#usage-in-extensions"><span>Usage in <wbr/>Extensions</span></a></li><li><ul><li><a href="#background-script"><span>Background <wbr/>Script</span></a></li><li><a href="#popup-script"><span>Popup <wbr/>Script</span></a></li></ul></li><li><a href="#storage-backends"><span>Storage <wbr/>Backends</span></a></li><li><ul><li><a href="#automatic-selection"><span>Automatic <wbr/>Selection</span></a></li><li><a href="#manual-selection"><span>Manual <wbr/>Selection</span></a></li></ul></li><li><a href="#error-handling"><span>Error <wbr/>Handling</span></a></li><li><a href="#development"><span>Development</span></a></li><li><a href="#examples"><span>Examples</span></a></li><li><a href="#contributing"><span>Contributing</span></a></li><li><a href="#license"><span>License</span></a></li><li><a href="#roadmap"><span>Roadmap</span></a></li><li><a href="#support"><span>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">WebExtension DB API Documentation - v0.1.0</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
